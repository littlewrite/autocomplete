// AI-generated from TypeScript source: npx.ts
import 'package:autocomplete/src/spec.dart';

const List<FigSuggestion> npxSuggestions = [
  FigSuggestion(
    name: 'autocannon',
    icon:
        'https://raw.githubusercontent.com/mcollina/autocannon/master/autocannon-logo-icon-100px.png',
  ),
  FigSuggestion(
    name: 'vite',
    icon: 'https://vitejs.dev/logo.svg',
  ),
  FigSuggestion(
    name: 'babel',
    icon: 'https://raw.githubusercontent.com/babel/logo/master/babel.png',
  ),
  FigSuggestion(
    name: 'create-react-native-app',
    icon: 'https://reactnative.dev/img/pwa/manifest-icon-512.png',
  ),
  FigSuggestion(
    name: 'react-native',
    icon: 'https://reactnative.dev/img/pwa/manifest-icon-512.png',
  ),
  FigSuggestion(
    name: 'tailwindcss',
    icon: 'https://tailwindcss.com/favicons/favicon-32x32.png',
  ),
  FigSuggestion(
    name: 'next',
    icon: 'https://nextjs.org/static/favicon/favicon-16x16.png',
  ),
  FigSuggestion(
    name: 'nuxi',
    icon:
        'https://raw.githubusercontent.com/nuxt/framework/main/docs/public/icon.png',
  ),
  FigSuggestion(
    name: 'gltfjsx',
    icon: 'https://raw.githubusercontent.com/pmndrs/branding/master/logo.svg',
  ),
  FigSuggestion(
    name: 'prisma',
    icon:
        'https://raw.githubusercontent.com/prisma/docs/main/src/images/favicon-16x16.png',
  ),
  FigSuggestion(
    name: 'eslint',
    icon:
        'https://raw.githubusercontent.com/eslint/eslint.org/main/src/static/icon-512.png',
  ),
  FigSuggestion(
    name: 'prettier',
    icon: 'https://prettier.io/icon.png',
  ),
  FigSuggestion(
    name: 'tsc',
    icon:
        'https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Typescript_logo_2020.svg/240px-Typescript_logo_2020.svg.png',
  ),
  FigSuggestion(
    name: 'typeorm',
    icon: 'https://avatars.githubusercontent.com/u/20165699?s=200&v=4',
  ),
  FigSuggestion(
    name: '@withfig/autocomplete-tools',
    icon: 'https://fig.io/icons/fig-light.png',
  ),
  FigSuggestion(
    name: 'create-completion-spec',
    icon: 'https://fig.io/icons/fig-light.png',
  ),
  FigSuggestion(
    name: '@fig/publish-spec-to-team',
    icon: 'https://fig.io/icons/fig-light.png',
  ),
  FigSuggestion(
    name: 'fig-teams@latest',
    icon: 'https://fig.io/icons/fig-light.png',
  ),
  FigSuggestion(
    name: 'create-next-app',
    icon: 'https://nextjs.org/static/favicon/favicon-16x16.png',
  ),
  FigSuggestion(
    name: 'create-t3-app',
    icon: 'https://create.t3.gg/favicon.svg',
  ),
  FigSuggestion(
    name: 'create-discord-bot',
    icon: 'https://discordjs.dev/favicon-32x32.png',
  ),
  FigSuggestion(
    name: 'create-video',
    icon:
        'https://raw.githubusercontent.com/remotion-dev/remotion/main/packages/docs/static/img/logo-small.png',
  ),
  FigSuggestion(
    name: 'remotion',
    icon:
        'https://raw.githubusercontent.com/remotion-dev/remotion/main/packages/docs/static/img/logo-small.png',
  ),
  FigSuggestion(
    name: 'create-remix',
    icon: 'https://remix.run/favicon-light.1.png',
  ),
  FigSuggestion(
    name: 'remix',
    icon: 'https://remix.run/favicon-light.1.png',
  ),
  FigSuggestion(
    name: 'playwright',
    icon: 'https://playwright.dev/img/playwright-logo.svg',
  ),
  FigSuggestion(
    name: 'ignite-cli',
    icon: 'ðŸ”¥',
  ),
  FigSuggestion(
    name: 'vsce',
  ),
  FigSuggestion(
    name: 'degit',
    icon: 'fig://icon?type=git',
  ),
  FigSuggestion(
    name: '@preset/cli',
    icon:
        'https://raw.githubusercontent.com/preset/preset/main/.github/assets/logo.svg',
  ),
  FigSuggestion(
    name: 'mikro-orm',
    icon:
        'https://raw.githubusercontent.com/mikro-orm/mikro-orm/master/docs/static/img/favicon.ico',
  ),
  FigSuggestion(
    name: 'pod-install',
  ),
  FigSuggestion(
    name: 'capacitor',
    icon: 'https://capacitorjs.com/docs/img/meta/favicon.png',
  ),
  FigSuggestion(
    name: 'cap',
    icon: 'https://capacitorjs.com/docs/img/meta/favicon.png',
  ),
  FigSuggestion(
    name: '@magnolia/cli',
    icon: 'https://avatars.githubusercontent.com/u/25686615?s=200&v=4',
  ),
  FigSuggestion(
    name: 'stencil',
    icon: 'https://stenciljs.com/assets/icon/favicon.ico',
  ),
  FigSuggestion(
    name: 'swagger-typescript-api',
    icon: 'https://static1.smartbear.co/swagger/media/assets/swagger_fav.png',
  ),
  FigSuggestion(
    name: 'sta',
    icon: 'https://static1.smartbear.co/swagger/media/assets/swagger_fav.png',
  ),
  FigSuggestion(
    name: '@wordpress/create-block',
    icon: 'https://s1.wp.com/i/webclip.png',
  ),
  FigSuggestion(
    name: 'astro',
    icon: 'https://astro.build/favicon.svg',
  ),
  FigSuggestion(
    name: 'ampx',
    icon:
        'https://raw.githubusercontent.com/aws-amplify/docs/refs/heads/main/public/favicon.ico',
  ),
];

final FigSpec npxSpec = FigSpec(
  name: 'npx',
  description: 'Execute binaries from npm packages',
  args: [
    FigArg(
      name: 'command',
      isCommand: true,
      generators: [
        FigGenerator(
          script: [
            'bash',
            '-c',
            'until [[ -d node_modules/ ]] || [[ \$PWD = \'/\' ]]; do cd ..; done; ls -1 node_modules/.bin/'
          ],
          postProcess: (String out, [List<String>? tokens]) {
            final cli = npxSuggestions.map((s) => s.name).toList();
            return out
                .split('\n')
                .where((name) => !cli.contains(name))
                .map((name) => FigSuggestion(
                      name: name,
                      icon: 'fig://icon?type=command',
                      loadSpec: name,
                    ))
                .toList();
          },
        ),
      ],
      suggestions: npxSuggestions,
      isOptional: true,
    ),
  ],
  options: [
    FigOption(
      name: ['--package', '-p'],
      description: 'Package to be installed',
      args: [
        FigArg(
          name: 'package',
        ),
      ],
    ),
    FigOption(
      name: ['--cache'],
      args: [
        FigArg(
          name: 'path',
          template: 'filepaths',
        ),
      ],
      description: 'Location of the npm cache',
    ),
    FigOption(
      name: ['--always-spawn'],
      description: 'Always spawn a child process to execute the command',
    ),
    FigOption(
      name: ['-y'],
      description: 'Execute npx command without prompting for confirmation',
    ),
    FigOption(
      name: ['--no-install'],
      description: 'Skip installation if a package is missing',
    ),
    FigOption(
      name: ['--userconfig'],
      args: [
        FigArg(
          name: 'path',
          template: 'filepaths',
        ),
      ],
      description: 'Path to user npmrc',
    ),
    FigOption(
      name: ['--call', '-c'],
      args: [
        FigArg(
          name: 'script',
        ),
      ],
      description: 'Execute string as if inside `npm run-script`',
    ),
    FigOption(
      name: ['--shell', '-s'],
      description: 'Shell to execute the command with, if any',
      args: [
        FigArg(
          name: 'shell',
          suggestions: [
            FigSuggestion(name: 'bash'),
            FigSuggestion(name: 'fish'),
            FigSuggestion(name: 'zsh'),
          ],
        ),
      ],
    ),
    FigOption(
      name: ['--shell-auto-fallback'],
      args: [
        FigArg(
          name: 'shell-fallback',
          suggestions: [
            FigSuggestion(name: 'bash'),
            FigSuggestion(name: 'fish'),
            FigSuggestion(name: 'zsh'),
          ],
        ),
      ],
      description:
          'Generate shell code to use npx as the "command not found" fallback',
    ),
    FigOption(
      name: ['--ignore-existing'],
      description:
          'Ignores existing binaries in \$PATH, or in the localproject. This forces npx to do a temporary install and use the latest version',
    ),
    FigOption(
      name: ['--quiet', '-q'],
      description:
          'Suppress output from npx itself. Subcommands will not be affected',
    ),
    FigOption(
      name: ['--npm'],
      args: [
        FigArg(
          name: 'path to binary',
          template: 'filepaths',
        ),
      ],
      description: 'Npm binary to use for internal operations',
    ),
    FigOption(
      name: ['--node-arg', '-n'],
      args: [],
      description: 'Extra node argument when calling a node binary',
    ),
    FigOption(
      name: ['--version', '-v'],
      description: 'Show version number',
    ),
    FigOption(
      name: ['--help', '-h'],
      description: 'Show help',
    ),
  ],
);
